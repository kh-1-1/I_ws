# 贡献指南

<cite>
**本文档中引用的文件**  
- [README.md](file://README.md)
- [NeuPAN/README.md](file://NeuPAN/README.md)
- [RDA-planner/README.md](file://RDA-planner/README.md)
- [OBCA/README.md](file://OBCA/README.md)
- [hybrid_astar_planner/README.md](file://hybrid_astar_planner/README.md)
- [teb_local_planner/README.md](file://teb_local_planner/README.md)
- [mpc-mpnet-py/README.md](file://mpc-mpnet-py/README.md)
- [CrowdNav/README.md](file://CrowdNav/README.md)
- [AEMCARL/README.md](file://AEMCARL/README.md)
- [H-OBCA/README.md](file://H-OBCA/README.md)
- [Dftpav/README.md](file://Dftpav/README.md)
- [field_local_planner/README.md](file://field_local_planner/README.md)
</cite>

## 目录
1. [简介](#简介)
2. [社区文化与协作方式](#社区文化与协作方式)
3. [问题报告流程](#问题报告流程)
4. [功能请求流程](#功能请求流程)
5. [代码贡献流程](#代码贡献流程)
6. [ISSUE_TEMPLATE.md 使用说明](#issuetemplatemd-使用说明)
7. [PULL_REQUEST_TEMPLATE.md 使用说明](#pull_request_templatemd-使用说明)
8. [代码审查流程](#代码审查流程)
9. [测试要求](#测试要求)
10. [文档更新规范](#文档更新规范)
11. [初学者入门指南](#初学者入门指南)
12. [高级贡献技巧与最佳实践](#高级贡献技巧与最佳实践)
13. [社区交流渠道与协作工具](#社区交流渠道与协作工具)
14. [许可证与法律事项](#许可证与法律事项)

## 简介

本贡献指南旨在为开发者提供参与本路径规划与自主导航算法仓库开发的完整指导。该仓库汇集了多种前沿的路径规划、运动控制与机器学习相关算法模块，涵盖从传统优化方法到最新的深度学习规划器。每个模块都是独立的子项目，具有完整的文档和示例。

本指南详细说明了如何有效地参与项目开发和改进，包括问题报告、功能请求和代码贡献的完整流程。通过遵循本指南，无论是初学者还是经验丰富的开发者都能为项目做出有价值的贡献，共同推动自主导航技术的发展。

**Section sources**
- [README.md](file://README.md#L1-L280)

## 社区文化与协作方式

本项目社区倡导开放、包容、尊重和协作的文化。我们欢迎来自不同背景的开发者参与，共同推动技术进步。社区成员应遵守以下基本原则：

1. **尊重他人**：在讨论和交流中保持礼貌和专业，尊重不同的观点和意见。
2. **建设性反馈**：提供反馈时应具体、客观，旨在帮助改进而非批评。
3. **知识共享**：鼓励分享知识和经验，帮助新成员快速融入社区。
4. **持续学习**：保持对新技术和新方法的好奇心，不断学习和进步。

协作方式采用分布式开发模式，各子项目由不同的维护者负责。重大决策通过公开讨论和共识达成。我们鼓励开发者在提出重大变更前先进行讨论，以确保变更符合项目整体方向。

**Section sources**
- [README.md](file://README.md#L1-L280)

## 问题报告流程

当您在使用项目时遇到问题或发现bug时，请按照以下流程报告：

1. **搜索现有问题**：在提交新问题前，请先搜索[GitHub Issues](https://github.com/hanruihua/NeuPAN/issues)以确认该问题是否已被报告。
2. **选择正确仓库**：本项目由多个子模块组成，请确保在正确的子模块仓库中提交问题。例如，NeuPAN相关问题应在[NeuPAN仓库](https://github.com/hanruihua/NeuPAN)中报告。
3. **使用问题模板**：提交问题时请使用预定义的ISSUE_TEMPLATE.md模板，确保提供完整的信息。
4. **提供详细信息**：包括操作系统、Python版本、复现步骤、错误日志和相关截图。
5. **标签分类**：根据问题类型添加适当的标签，如"bug"、"question"或"documentation"。

对于紧急的安全问题，请通过电子邮件直接联系维护者，而不是在公开的issue中报告。

**Section sources**
- [README.md](file://README.md#L1-L280)
- [NeuPAN/README.md](file://NeuPAN/README.md#L1-L243)

## 功能请求流程

如果您有新的功能想法或改进建议，请按照以下流程提交功能请求：

1. **评估需求**：确认该功能对项目有实际价值，且符合项目发展方向。
2. **搜索现有请求**：检查是否已有类似的功能请求被提出。
3. **创建新请求**：在相应的子模块仓库中创建新的issue，选择"Feature Request"模板。
4. **详细描述**：说明功能的具体用途、使用场景和预期效果。
5. **讨论可行性**：与维护者和其他开发者讨论技术可行性和实现方案。
6. **达成共识**：在实施前确保功能请求获得社区认可。

对于复杂的功能，建议先提交一个简要的设计文档供讨论。我们鼓励贡献者不仅提出想法，还能参与实现。

**Section sources**
- [README.md](file://README.md#L1-L280)
- [RDA-planner/README.md](file://RDA-planner/README.md#L1-L86)

## 代码贡献流程

代码贡献是项目发展的核心。请遵循以下标准流程提交代码贡献：

1. **Fork仓库**：点击GitHub页面右上角的"Fork"按钮创建您自己的副本。
2. **创建分支**：基于main分支创建新的功能分支，命名应清晰描述变更内容，如`feature/new-planner`或`fix/bug-in-mpc`。
3. **编写代码**：遵循项目代码风格指南进行开发，确保代码质量和可读性。
4. **编写测试**：为新功能或修复的bug编写相应的单元测试和集成测试。
5. **更新文档**：修改或添加必要的文档，包括README、API文档和示例代码。
6. **提交更改**：使用清晰的commit message提交更改，遵循[Conventional Commits](https://www.conventionalcommits.org/)规范。
7. **推送分支**：将本地分支推送到您的fork仓库。
8. **创建Pull Request**：在GitHub上创建Pull Request，使用预定义的PULL_REQUEST_TEMPLATE.md模板。

维护者将在收到PR后进行审查，可能会提出修改建议。请积极回应审查意见并进行相应修改。

**Section sources**
- [README.md](file://README.md#L1-L280)

## ISSUE_TEMPLATE.md 使用说明

ISSUE_TEMPLATE.md文件为问题报告提供了标准化的格式，确保收集到必要信息。模板包含以下部分：

1. **问题类型选择**：通过GitHub的issue模板功能选择问题类型（Bug Report、Feature Request等）。
2. **环境信息**：要求提供操作系统、Python版本、相关依赖版本等基本信息。
3. **复现步骤**：详细描述如何复现问题，包括代码示例和配置参数。
4. **预期行为**：说明您期望的功能行为。
5. **实际行为**：描述实际观察到的行为和错误信息。
6. **附加信息**：可添加截图、日志文件或其他有助于诊断问题的信息。

使用此模板有助于维护者快速理解问题本质，提高问题解决效率。请在提交问题时认真填写每个部分，避免遗漏关键信息。

**Section sources**
- [README.md](file://README.md#L1-L280)
- [NeuPAN/README.md](file://NeuPAN/README.md#L1-L243)

## PULL_REQUEST_TEMPLATE.md 使用说明

PULL_REQUEST_TEMPLATE.md文件为代码贡献提供了标准化的格式，确保PR包含必要信息。模板包含以下部分：

1. **PR描述**：简要说明本次提交的目的和主要内容。
2. **相关问题**：关联相关的issue编号，使用`Fixes #123`格式自动关闭问题。
3. **变更详情**：详细描述代码变更，包括新增功能、修复的bug或性能改进。
4. **测试情况**：说明已进行的测试，包括单元测试、集成测试和手动测试结果。
5. **文档更新**：列出所有更新的文档文件和内容。
6. **检查清单**：确认已完成的事项，如代码格式化、测试通过、文档更新等。

使用此模板有助于审查者全面了解PR内容，加快审查流程。请在创建PR时认真填写模板内容，确保信息完整准确。

**Section sources**
- [README.md](file://README.md#L1-L280)
- [RDA-planner/README.md](file://RDA-planner/README.md#L1-L86)

## 代码审查流程

代码审查是确保代码质量的关键环节。我们的审查流程如下：

1. **自动检查**：PR提交后，CI/CD系统会自动运行代码格式检查、静态分析和测试套件。
2. **初步审查**：维护者进行初步审查，检查是否符合贡献指南和代码风格。
3. **技术审查**：领域专家对代码的技术实现、算法正确性和性能进行深入审查。
4. **反馈与修改**：审查者提出修改建议，贡献者根据反馈进行相应修改。
5. **最终批准**：当所有审查意见都得到妥善处理后，维护者批准合并。
6. **合并**：使用rebase方式将PR合并到main分支，保持提交历史清晰。

审查重点包括：代码正确性、性能影响、安全性、可维护性和文档完整性。我们鼓励建设性的批评和知识分享，审查过程也是学习和提高的机会。

**Section sources**
- [README.md](file://README.md#L1-L280)

## 测试要求

为确保代码质量和稳定性，所有贡献必须满足以下测试要求：

1. **单元测试**：为新功能编写充分的单元测试，覆盖主要功能路径和边界条件。
2. **集成测试**：确保新代码能与现有系统正确集成，不破坏现有功能。
3. **回归测试**：修改现有功能时，确保不引入新的bug。
4. **性能测试**：对性能敏感的变更进行基准测试，确保性能不退化。
5. **测试覆盖率**：尽量提高测试覆盖率，特别是核心算法和关键路径。

测试代码应遵循与生产代码相同的质量标准，包括清晰的命名、适当的注释和良好的可读性。所有测试必须在CI环境中通过才能合并。

**Section sources**
- [README.md](file://README.md#L1-L280)
- [NeuPAN/README.md](file://NeuPAN/README.md#L1-L243)

## 文档更新规范

文档是项目的重要组成部分，所有代码变更都应伴随相应的文档更新：

1. **API文档**：新增或修改的API必须更新相应的文档字符串和API参考文档。
2. **用户指南**：新功能需要添加使用说明和示例代码。
3. **安装指南**：如果依赖关系发生变化，需要更新安装和配置说明。
4. **变更日志**：在CHANGELOG.md中记录重要变更，遵循语义化版本控制规范。
5. **代码注释**：复杂的算法和逻辑需要适当的代码注释解释设计思路。

文档应使用清晰、简洁的语言编写，避免专业术语过多。我们鼓励使用图表、示例和逐步说明来提高可理解性。

**Section sources**
- [README.md](file://README.md#L1-L280)
- [RDA-planner/README.md](file://RDA-planner/README.md#L1-L86)

## 初学者入门指南

欢迎新贡献者！以下是帮助您快速上手的入门指南：

1. **选择合适的任务**：从标记为"good first issue"或"help wanted"的问题开始。
2. **设置开发环境**：按照各子模块的README文件配置开发环境。
3. **阅读文档**：仔细阅读项目文档和贡献指南，了解项目结构和编码规范。
4. **从小处着手**：可以从修复文档错误、改进测试或解决简单bug开始。
5. **参与讨论**：在issue和PR中积极参与讨论，向经验丰富的开发者学习。
6. **寻求帮助**：遇到困难时不要犹豫，通过issue或讨论区寻求帮助。

我们特别为初学者准备了一些简单的任务，如完善文档、编写测试用例和修复拼写错误。这些任务是了解项目代码库和贡献流程的好方法。

**Section sources**
- [README.md](file://README.md#L1-L280)
- [NeuPAN/README.md](file://NeuPAN/README.md#L1-L243)

## 高级贡献技巧与最佳实践

对于经验丰富的开发者，以下是一些高级贡献技巧和最佳实践：

1. **性能优化**：分析算法复杂度，优化关键路径的执行效率。
2. **架构改进**：识别代码异味，重构以提高可维护性和可扩展性。
3. **新功能设计**：在实现前进行充分的设计讨论，考虑各种使用场景。
4. **跨模块集成**：探索不同算法模块之间的协同工作，实现更强大的功能。
5. **自动化工具**：开发脚本和工具提高开发和测试效率。
6. **基准测试**：建立系统的性能基准，量化改进效果。

最佳实践包括：编写可测试的代码、使用设计模式解决常见问题、保持接口的向后兼容性、进行充分的错误处理和日志记录。

**Section sources**
- [README.md](file://README.md#L1-L280)
- [RDA-planner/README.md](file://RDA-planner/README.md#L1-L86)

## 社区交流渠道与协作工具

我们使用多种渠道进行社区交流和协作：

1. **GitHub Issues**：用于问题跟踪、功能请求和代码审查。
2. **GitHub Discussions**：用于一般性讨论、知识分享和社区建设。
3. **电子邮件**：用于紧急问题和敏感信息的沟通。
4. **视频会议**：定期举行线上会议讨论项目发展方向。
5. **文档协作**：使用GitHub Wiki和Markdown文件进行文档协作。

主要协作工具包括：GitHub Actions（CI/CD）、Codecov（测试覆盖率）、Read the Docs（文档生成）和Sphinx（文档编写）。我们鼓励使用这些工具提高开发效率和代码质量。

**Section sources**
- [README.md](file://README.md#L1-L280)

## 许可证与法律事项

本项目采用多许可证模式，各子模块保持其原始许可证：

- **NeuPAN, RDA-planner**: MIT许可证
- **OBCA, H-OBCA**: MIT许可证
- **teb_local_planner**: BSD许可证
- **hybrid_astar_planner**: Apache 2.0许可证

贡献代码即表示您同意在相应许可证下公开您的贡献。请确保您的贡献不包含受限制的第三方代码或侵犯他人知识产权的内容。对于不确定的法律问题，请咨询项目维护者。

**Section sources**
- [README.md](file://README.md#L1-L280)